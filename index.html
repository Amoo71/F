<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goldener Schmetterling</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100vw;
            height: 100vh;
            background-color: #000000;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 1.5s ease;
            touch-action: manipulation;
        }

        body.fade-background {
            background-color: #1a1a1a;
        }

        /* Mobile Optimierungen */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
            }
        }

        /* Schmetterling */
        .butterfly {
            position: absolute;
            width: 80px;
            height: 80px;
            cursor: pointer;
            animation: fly 10s infinite ease-in-out;
            transition: opacity 0.8s ease;
            filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.8));
            touch-action: manipulation;
        }

        .butterfly.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .butterfly svg {
            width: 100%;
            height: 100%;
        }

        @media (max-width: 768px) {
            .butterfly {
                width: 100px;
                height: 100px;
            }
        }

        @media (max-width: 480px) {
            .butterfly {
                width: 120px;
                height: 120px;
            }
        }

        .wing-left {
            transform-origin: 50px 50px;
            animation: flapLeft 0.4s infinite alternate ease-in-out;
        }

        .wing-right {
            transform-origin: 50px 50px;
            animation: flapRight 0.4s infinite alternate ease-in-out;
        }

        @keyframes flapLeft {
            from {
                transform: rotateY(0deg);
            }
            to {
                transform: rotateY(-25deg);
            }
        }

        @keyframes flapRight {
            from {
                transform: rotateY(0deg);
            }
            to {
                transform: rotateY(25deg);
            }
        }

        @keyframes fly {
            0%, 100% {
                transform: translate(-120px, -60px) rotate(10deg);
            }
            20% {
                transform: translate(100px, 40px) rotate(-15deg);
            }
            40% {
                transform: translate(180px, -40px) rotate(25deg);
            }
            60% {
                transform: translate(-50px, 90px) rotate(-20deg);
            }
            80% {
                transform: translate(-150px, 30px) rotate(15deg);
            }
        }


        /* Funkeln um Schmetterling */
        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            pointer-events: none;
            left: 50%;
            top: 50%;
            margin-left: -3px;
            margin-top: -3px;
        }

        .sparkle::before {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, #FFF 0%, #FFD700 40%, transparent 70%);
            border-radius: 50%;
            box-shadow: 0 0 12px #FFD700, 0 0 20px #FFD700;
        }

        .sparkle::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #FFF, transparent);
            left: -3px;
            top: 2px;
            box-shadow: 0 0 8px #FFD700;
        }

        .sparkle-1 {
            animation: sparkle 1.5s infinite ease-in-out;
        }

        .sparkle-2 {
            animation: sparkle 1.8s infinite ease-in-out 0.3s;
        }

        .sparkle-3 {
            animation: sparkle 1.6s infinite ease-in-out 0.6s;
        }

        .sparkle-4 {
            animation: sparkle 2s infinite ease-in-out 0.9s;
        }

        .sparkle-5 {
            animation: sparkle 1.7s infinite ease-in-out 1.2s;
        }

        .sparkle-6 {
            animation: sparkle 1.9s infinite ease-in-out 0.4s;
        }

        .sparkle-7 {
            animation: sparkle 1.65s infinite ease-in-out 0.8s;
        }

        .sparkle-8 {
            animation: sparkle 2.1s infinite ease-in-out 1.1s;
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 0;
                transform: translate(0, 0) scale(0) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: translate(var(--tx), var(--ty)) scale(1.5) rotate(180deg);
            }
        }

        /* Leuchtkaefer im Hintergrund */
        .firefly {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #FFE55C;
            border-radius: 50%;
            box-shadow: 0 0 10px #FFE55C, 0 0 20px #FFE55C;
            opacity: 0;
            animation: fireflyMove 15s infinite ease-in-out, fireflyGlow 3s infinite ease-in-out;
            z-index: 0;
        }

        @keyframes fireflyMove {
            0% {
                transform: translate(0, 0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--fx), var(--fy));
                opacity: 0;
            }
        }

        @keyframes fireflyGlow {
            0%, 100% {
                box-shadow: 0 0 5px #FFE55C, 0 0 10px #FFE55C;
                transform: scale(1);
            }
            50% {
                box-shadow: 0 0 15px #FFE55C, 0 0 30px #FFE55C, 0 0 40px #FFD700;
                transform: scale(1.5);
            }
        }

        /* Brief */
        .envelope-container {
            position: absolute;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease;
            cursor: pointer;
            touch-action: manipulation;
        }

        .envelope-container.visible {
            opacity: 1;
            pointer-events: auto;
        }

        @media (max-width: 768px) {
            .envelope-container {
                transform: scale(0.8);
            }
        }

        @media (max-width: 480px) {
            .envelope-container {
                transform: scale(0.6);
            }
        }

        .envelope {
            width: 320px;
            height: 220px;
            position: relative;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .envelope-back {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f5e6d3 0%, #e8d5c4 50%, #d4c4b0 100%);
            border: 3px solid #b89968;
            position: absolute;
            border-radius: 8px;
            box-shadow: 
                inset 0 2px 4px rgba(255, 255, 255, 0.3),
                inset 0 -2px 4px rgba(0, 0, 0, 0.1),
                0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .envelope-back::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 1px solid rgba(184, 153, 104, 0.3);
            border-radius: 5px;
        }

        .envelope-front {
            width: 300px;
            height: 200px;
            background: linear-gradient(135deg, #e8d5c4 0%, #d4c4b0 100%);
            position: absolute;
            top: 10px;
            left: 10px;
            border-radius: 5px;
            z-index: 2;
        }

        .envelope-flap {
            width: 300px;
            height: 150px;
            position: absolute;
            top: 0;
            left: 10px;
            transform-origin: top center;
            transform-style: preserve-3d;
            transition: transform 1.2s cubic-bezier(0.4, 0.0, 0.2, 1);
            z-index: 3;
        }

        .flap-front {
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #e8d5c4 0%, #d4bfa0 100%);
            position: absolute;
            clip-path: polygon(0% 0%, 50% 100%, 100% 0%);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            backface-visibility: hidden;
        }

        .flap-back {
            width: 100%;
            height: 100%;
            background: linear-gradient(0deg, #c4af90 0%, #d4bfa0 100%);
            position: absolute;
            clip-path: polygon(0% 100%, 50% 0%, 100% 100%);
            transform: rotateX(180deg);
            backface-visibility: hidden;
        }

        .envelope-container.opening .envelope-flap {
            transform: rotateX(-180deg);
        }

        .envelope-container.opening .seal {
            animation: sealBreak 0.3s ease forwards;
        }

        @keyframes sealBreak {
            0% {
                transform: translateX(-50%) scale(1);
                opacity: 1;
            }
            50% {
                transform: translateX(-50%) scale(1.1) rotate(5deg);
            }
            100% {
                transform: translateX(-50%) scale(0.8) rotate(10deg);
                opacity: 0;
            }
        }

        .seal {
            width: 60px;
            height: 60px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            transition: opacity 0.5s ease;
        }

        .seal svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        }

        /* Zettel */
        .letter {
            width: 500px;
            height: 650px;
            max-width: 90vw;
            max-height: 85vh;
            background: linear-gradient(to bottom, #fefefe 0%, #f5f5f0 100%);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            pointer-events: none;
            border: 1px solid #ddd;
            border-radius: 3px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            padding: 50px 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            transition: all 1.2s ease;
            z-index: 100;
            overflow-y: auto;
        }

        .letter.visible {
            opacity: 1;
            pointer-events: auto;
            top: 50%;
        }

        .letter-greeting {
            font-family: 'Georgia', serif;
            font-size: 22px;
            color: #333;
            margin-bottom: 20px;
            font-weight: bold;
            align-self: flex-start;
        }

        .letter-text {
            font-family: 'Georgia', serif;
            font-size: 16px;
            color: #333;
            text-align: left;
            line-height: 1.7;
            margin-bottom: 25px;
            width: 100%;
        }

        .letter-signature {
            font-family: 'Brush Script MT', cursive, 'Georgia', serif;
            font-size: 24px;
            color: #333;
            align-self: flex-end;
            font-style: italic;
        }

        /* Mobile Anpassungen fuer Zettel */
        @media (max-width: 768px) {
            .letter {
                width: 90vw;
                height: auto;
                max-height: 80vh;
                padding: 40px 30px;
            }

            .letter-greeting {
                font-size: 20px;
                margin-bottom: 15px;
            }

            .letter-text {
                font-size: 15px;
                line-height: 1.6;
                margin-bottom: 20px;
            }

            .letter-signature {
                font-size: 22px;
            }
        }

        @media (max-width: 480px) {
            .letter {
                width: 95vw;
                padding: 30px 25px;
                max-height: 85vh;
            }

            .letter-greeting {
                font-size: 18px;
                margin-bottom: 12px;
            }

            .letter-text {
                font-size: 14px;
                line-height: 1.6;
                margin-bottom: 18px;
            }

            .letter-signature {
                font-size: 20px;
            }
        }

    </style>
</head>
<body>
    <!-- Schmetterling -->
    <div class="butterfly" id="butterfly">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <radialGradient id="wingGold" cx="50%" cy="50%">
                    <stop offset="0%" style="stop-color:#FFE55C;stop-opacity:1" />
                    <stop offset="40%" style="stop-color:#FFD700;stop-opacity:1" />
                    <stop offset="80%" style="stop-color:#DAA520;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#B8860B;stop-opacity:1" />
                </radialGradient>
                <radialGradient id="wingOrange" cx="40%" cy="40%">
                    <stop offset="0%" style="stop-color:#FFF4A3;stop-opacity:0.9" />
                    <stop offset="50%" style="stop-color:#FFA500;stop-opacity:0.7" />
                    <stop offset="100%" style="stop-color:#FF8C00;stop-opacity:0.5" />
                </radialGradient>
                <linearGradient id="bodyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#A0826D;stop-opacity:1" />
                    <stop offset="50%" style="stop-color:#8B6914;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#654321;stop-opacity:1" />
                </linearGradient>
            </defs>
            
            <!-- Linker oberer Fluegel -->
            <ellipse class="wing wing-left" cx="30" cy="40" rx="28" ry="38" 
                     fill="url(#wingGold)" stroke="#B8860B" stroke-width="1.5"/>
            
            <!-- Linker oberer Fluegel Details -->
            <ellipse class="wing wing-left" cx="28" cy="35" rx="18" ry="25" 
                     fill="url(#wingOrange)"/>
            <ellipse class="wing wing-left" cx="25" cy="32" rx="8" ry="12" 
                     fill="#FFF4A3" opacity="0.6"/>
            
            <!-- Linker unterer Fluegel -->
            <ellipse class="wing wing-left" cx="32" cy="65" rx="18" ry="25" 
                     fill="url(#wingGold)" stroke="#B8860B" stroke-width="1.5"/>
            <ellipse class="wing wing-left" cx="30" cy="62" rx="10" ry="15" 
                     fill="url(#wingOrange)"/>
            
            <!-- Rechter oberer Fluegel -->
            <ellipse class="wing wing-right" cx="70" cy="40" rx="28" ry="38" 
                     fill="url(#wingGold)" stroke="#B8860B" stroke-width="1.5"/>
            
            <!-- Rechter oberer Fluegel Details -->
            <ellipse class="wing wing-right" cx="72" cy="35" rx="18" ry="25" 
                     fill="url(#wingOrange)"/>
            <ellipse class="wing wing-right" cx="75" cy="32" rx="8" ry="12" 
                     fill="#FFF4A3" opacity="0.6"/>
            
            <!-- Rechter unterer Fluegel -->
            <ellipse class="wing wing-right" cx="68" cy="65" rx="18" ry="25" 
                     fill="url(#wingGold)" stroke="#B8860B" stroke-width="1.5"/>
            <ellipse class="wing wing-right" cx="70" cy="62" rx="10" ry="15" 
                     fill="url(#wingOrange)"/>
            
            <!-- Koerper -->
            <ellipse cx="50" cy="50" rx="7" ry="32" fill="url(#bodyGradient)" stroke="#654321" stroke-width="1"/>
            
            <!-- Koerper Segmente -->
            <line x1="43" y1="45" x2="57" y2="45" stroke="#654321" stroke-width="1" opacity="0.5"/>
            <line x1="43" y1="52" x2="57" y2="52" stroke="#654321" stroke-width="1" opacity="0.5"/>
            <line x1="43" y1="59" x2="57" y2="59" stroke="#654321" stroke-width="1" opacity="0.5"/>
            <line x1="43" y1="66" x2="57" y2="66" stroke="#654321" stroke-width="1" opacity="0.5"/>
            
            <!-- Kopf -->
            <ellipse cx="50" cy="28" rx="6" ry="8" fill="#8B6914" stroke="#654321" stroke-width="1"/>
            
            <!-- Augen -->
            <circle cx="48" cy="27" r="1.5" fill="#000"/>
            <circle cx="52" cy="27" r="1.5" fill="#000"/>
            <circle cx="48.5" cy="26.5" r="0.5" fill="#FFF"/>
            <circle cx="52.5" cy="26.5" r="0.5" fill="#FFF"/>
            
            <!-- Antennen -->
            <path d="M 48 22 Q 44 14 42 8" stroke="#8B6914" stroke-width="1.5" fill="none"/>
            <path d="M 52 22 Q 56 14 58 8" stroke="#8B6914" stroke-width="1.5" fill="none"/>
            <circle cx="42" cy="8" r="2" fill="#DAA520"/>
            <circle cx="58" cy="8" r="2" fill="#DAA520"/>
            
            <!-- Fluegel Muster Punkte -->
            <circle class="wing wing-left" cx="22" cy="42" r="2" fill="#B8860B" opacity="0.4"/>
            <circle class="wing wing-left" cx="28" cy="48" r="2" fill="#B8860B" opacity="0.4"/>
            <circle class="wing wing-right" cx="78" cy="42" r="2" fill="#B8860B" opacity="0.4"/>
            <circle class="wing wing-right" cx="72" cy="48" r="2" fill="#B8860B" opacity="0.4"/>
        </svg>
        
        <!-- Funkeln um Schmetterling -->
        <div class="sparkle sparkle-1" style="--tx: 30px; --ty: -20px;"></div>
        <div class="sparkle sparkle-2" style="--tx: -30px; --ty: 15px;"></div>
        <div class="sparkle sparkle-3" style="--tx: 20px; --ty: 25px;"></div>
        <div class="sparkle sparkle-4" style="--tx: -25px; --ty: -25px;"></div>
        <div class="sparkle sparkle-5" style="--tx: 35px; --ty: 5px;"></div>
        <div class="sparkle sparkle-6" style="--tx: -15px; --ty: 30px;"></div>
        <div class="sparkle sparkle-7" style="--tx: 10px; --ty: -30px;"></div>
        <div class="sparkle sparkle-8" style="--tx: -35px; --ty: -10px;"></div>
    </div>

    <!-- Brief -->
    <div class="envelope-container" id="envelope">
        <div class="envelope">
            <div class="envelope-back"></div>
            <div class="envelope-front"></div>
            <div class="envelope-flap">
                <div class="flap-front"></div>
                <div class="flap-back"></div>
            </div>
            <div class="seal">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <radialGradient id="waxGradient" cx="50%" cy="40%">
                            <stop offset="0%" style="stop-color:#ff4d6d;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#c9184a;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#a4133c;stop-opacity:1" />
                        </radialGradient>
                        <radialGradient id="heartShine" cx="30%" cy="30%">
                            <stop offset="0%" style="stop-color:#ff758f;stop-opacity:0.8" />
                            <stop offset="100%" style="stop-color:#ff4d6d;stop-opacity:0" />
                        </radialGradient>
                    </defs>
                    
                    <!-- Wachs Kreis -->
                    <circle cx="50" cy="50" r="48" fill="url(#waxGradient)" stroke="#800f2f" stroke-width="2"/>
                    
                    <!-- Wachs Textur -->
                    <circle cx="50" cy="50" r="48" fill="url(#heartShine)" opacity="0.4"/>
                    
                    <!-- Herz -->
                    <path d="M 50,45 C 50,35 30,35 30,50 C 30,65 50,75 50,75 C 50,75 70,65 70,50 C 70,35 50,35 50,45 Z" 
                          fill="#a4133c" stroke="#590d22" stroke-width="1.5"/>
                    
                    <!-- Herz Highlight -->
                    <path d="M 50,45 C 50,37 35,37 35,48 C 35,58 50,68 50,68" 
                          fill="none" stroke="#ff758f" stroke-width="1" opacity="0.6"/>
                    
                    <!-- Wachs Details - Tropfen Effekt -->
                    <ellipse cx="45" cy="85" rx="8" ry="5" fill="#a4133c" opacity="0.7"/>
                    <ellipse cx="55" cy="88" rx="6" ry="4" fill="#a4133c" opacity="0.6"/>
                    <ellipse cx="38" cy="82" rx="5" ry="3" fill="#a4133c" opacity="0.5"/>
                </svg>
            </div>
        </div>
    </div>

    <!-- Zettel -->
    <div class="letter" id="letter">
        <div class="letter-greeting">Liebe Fanni,</div>
        <div class="letter-text">
            Ich habe dir das gemacht, damit wenn du traurig bist, du immer diesen Brief lesen kannst.<br><br>
            Ich will, dass du weißt, dass du ein toller Mensch bist. Du bist wie ein Licht im Dunkeln. Immer wenn du lächelst, strahlst du und ich will niemals, dass du das verlierst, weil das finde ich an dir am schönsten.<br><br>
            Du gibst dir immer so viel Mühe für andere, obwohl viele dir nicht das Gleiche zurückgeben, deswegen verdienst du nur das Beste.<br><br>
            Ich hoffe, ich kann dich hiermit immer ein wenig besser fühlen lassen. Du darfst niemals vergessen, dass du besonders bist. Du bedeutest mir viel, ich hab dich lieb.
        </div>
        <div class="letter-signature">Dein Amo</div>
    </div>

    <script>
        const butterfly = document.getElementById('butterfly');
        const envelope = document.getElementById('envelope');
        const letter = document.getElementById('letter');
        const body = document.body;

        // Leuchtkaefer erstellen
        function createFireflies() {
            const fireflyCount = 15;
            for (let i = 0; i < fireflyCount; i++) {
                const firefly = document.createElement('div');
                firefly.className = 'firefly';
                
                // Zufaellige Startposition
                const startX = Math.random() * window.innerWidth;
                const startY = Math.random() * window.innerHeight;
                firefly.style.left = startX + 'px';
                firefly.style.top = startY + 'px';
                
                // Zufaellige Bewegung
                const moveX = (Math.random() - 0.5) * 400;
                const moveY = (Math.random() - 0.5) * 400;
                firefly.style.setProperty('--fx', moveX + 'px');
                firefly.style.setProperty('--fy', moveY + 'px');
                
                // Zufaellige Animation Verzoegerung
                firefly.style.animationDelay = Math.random() * 8 + 's';
                firefly.style.animationDuration = (Math.random() * 4 + 6) + 's';
                
                body.appendChild(firefly);
            }
        }

        // Leuchtkaefer beim Laden erstellen
        createFireflies();

        // Schmetterling anklicken
        butterfly.addEventListener('click', function() {
            // Schmetterling ausblenden
            butterfly.classList.add('hidden');
            
            // Hintergrund verblassen
            body.classList.add('fade-background');
            
            // Brief erscheinen lassen nach kurzer Verzoegerung
            setTimeout(() => {
                envelope.classList.add('visible');
            }, 800);
        });

        // Brief anklicken
        envelope.addEventListener('click', function() {
            // Brief oeffnen
            envelope.classList.add('opening');
            
            // Zettel herausziehen nach Animation
            setTimeout(() => {
                letter.classList.add('visible');
                
                // Brief ausblenden nach dem Zettel erscheint
                setTimeout(() => {
                    envelope.style.opacity = '0';
                }, 500);
            }, 1000);
        });
    </script>
</body>
</html>
